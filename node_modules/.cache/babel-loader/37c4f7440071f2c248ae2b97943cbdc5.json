{"ast":null,"code":"import _slicedToArray from\"C:/project/pearls/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Container,Table}from\"react-bootstrap\";import useAuth from'../../Firebase/useAuth';import'./CheckOutAllOrder.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CheckOutAllOrder=function CheckOutAllOrder(){var _useAuth=useAuth(),user=_useAuth.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),control=_useState6[0],setControl=_useState6[1];var handleStatus=function handleStatus(e){setStatus(e.target.value);};console.log(status);useEffect(function(){fetch(\"https://aqueous-falls-64682.herokuapp.com/allorders\").then(function(res){return res.json();}).then(function(data){return setOrders(data);});},[]);// const status = \"apporved\";\nvar handleUpdate=function handleUpdate(id){fetch(\"https://aqueous-falls-64682.herokuapp.com/updatestatus/\".concat(id),{method:\"PUT\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify({status:status})});if(id){alert(\"Status Updated Successfully\");setControl(!control);console.log(id);}};var handleDelete=function handleDelete(id){fetch(\"https://aqueous-falls-64682.herokuapp.com/deleteorder/\".concat(id),{method:\"DELETE\"}).then(function(res){return res.json();}).then(function(data){if(data.deletedCount){window.confirm(\"Do you really want to Delete?\");setControl(!control);}});console.log(id);};return/*#__PURE__*/_jsx(\"div\",{className:\"my-5 w-100 all-font\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-secondary\",children:\"Check Out All Order\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-secondary\",children:[\"Orders Queue \",orders.length]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,className:\"custom-size\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-secondary\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"S.N\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Service\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User Information\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),orders===null||orders===void 0?void 0:orders.map(function(pd,index){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index}),/*#__PURE__*/_jsx(\"td\",{children:pd.name}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-start text-light m-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"py-1 px-2 customround\",children:pd.status})}),\" \",/*#__PURE__*/_jsx(\"img\",{width:\"90px\",src:pd.image,alt:\"\"}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"fw-lighter\",children:[/*#__PURE__*/_jsx(\"p\",{children:pd.username}),/*#__PURE__*/_jsx(\"p\",{children:pd.email}),/*#__PURE__*/_jsx(\"img\",{width:\"50px\",className:\"rounded-circle\",src:pd.imageURL,alt:\"\"})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{onChange:handleStatus,type:\"text\",defaultValue:pd.status,className:\"btn btn-outline-secondary\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex my-5\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDelete(pd===null||pd===void 0?void 0:pd._id);},className:\"btn bg-danger p-2 text-light btn-fs\",children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleUpdate(pd===null||pd===void 0?void 0:pd._id);},className:\"btn bg-success p-2 ms-5 text-light btn-fs\",children:\"Update\"})]})]})});})]})})]})]})});};export default CheckOutAllOrder;","map":{"version":3,"sources":["C:/project/pearls/src/Web/Pages/CheckOutAllOrder/CheckOutAllOrder.js"],"names":["React","useEffect","useState","Container","Table","useAuth","CheckOutAllOrder","user","orders","setOrders","status","setStatus","control","setControl","handleStatus","e","target","value","console","log","fetch","then","res","json","data","handleUpdate","id","method","headers","body","JSON","stringify","alert","handleDelete","deletedCount","window","confirm","length","map","pd","index","name","image","username","email","imageURL","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Container, Table } from \"react-bootstrap\";\r\nimport useAuth from '../../Firebase/useAuth';\r\nimport './CheckOutAllOrder.css'\r\n\r\nconst CheckOutAllOrder = () => {\r\n\r\n    const {user}=useAuth();\r\n    const [orders, setOrders] = useState([]);\r\n    const [status, setStatus] = useState(\"\");\r\n    const [control, setControl] = useState(false);\r\n  \r\n    const handleStatus = (e) => {\r\n      setStatus(e.target.value);\r\n    };\r\n    console.log(status);\r\n    useEffect(() => {\r\n      fetch(\"https://aqueous-falls-64682.herokuapp.com/allorders\")\r\n        .then((res) => res.json())\r\n        .then((data) => setOrders(data));\r\n    }, []);\r\n  \r\n    // const status = \"apporved\";\r\n    const handleUpdate = (id) => {\r\n      fetch(`https://aqueous-falls-64682.herokuapp.com/updatestatus/${id}`, {\r\n        method: \"PUT\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify({ status }),\r\n      });\r\n      if (id) {\r\n        alert(\"Status Updated Successfully\");\r\n        setControl(!control);\r\n        console.log(id);\r\n       \r\n      }\r\n     \r\n    };\r\n\r\n    const handleDelete = (id) => {\r\n      fetch(`https://aqueous-falls-64682.herokuapp.com/deleteorder/${id}`, {\r\n        method: \"DELETE\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.deletedCount) {\r\n            window.confirm(\"Do you really want to Delete?\");\r\n            setControl(!control);\r\n           \r\n          }\r\n        });\r\n      console.log(id);\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"my-5 w-100 all-font\">\r\n           <Container>\r\n           <h1 className=\"text-secondary\">Check Out All Order</h1>\r\n            <div className=\"container\">\r\n      <h5 className=\"text-secondary\">Orders Queue {orders.length}</h5>\r\n\r\n      <div>\r\n      <Table striped bordered hover className=\"custom-size\">\r\n        <thead>\r\n          <tr className=\"bg-secondary\">\r\n            <th>S.N</th>\r\n            <th>Service</th>\r\n            <th>Image</th>\r\n            <th>User Information</th>\r\n            <th>Status</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        {orders?.map((pd, index) => (\r\n          <tbody>\r\n            <tr>\r\n              <td>{index}</td>\r\n              <td>{pd.name}</td>\r\n              <td><h6 className=\"text-start text-light m-2\"><span className=\"py-1 px-2 customround\">{pd.status}</span></h6> <img width=\"90px\" src={pd.image} alt=\"\" /> </td>\r\n              <td className=\"fw-lighter\">\r\n\r\n                <p>{pd.username}</p>\r\n                <p>{pd.email}</p>\r\n                <img width=\"50px\" className=\"rounded-circle\" src={pd.imageURL} alt=\"\" />\r\n              </td>\r\n              \r\n              <td>\r\n                <input\r\n                  onChange={handleStatus}\r\n                  type=\"text\"\r\n                  defaultValue={pd.status}\r\n                  className=\"btn btn-outline-secondary\"\r\n                />\r\n              </td>\r\n              <div className=\"d-flex my-5\">\r\n              <button onClick={() => handleDelete(pd?._id)} className=\"btn bg-danger p-2 text-light btn-fs\">Delete</button>\r\n              <button\r\n                onClick={() => handleUpdate(pd?._id)}\r\n                className=\"btn bg-success p-2 ms-5 text-light btn-fs\"\r\n              >\r\n                Update\r\n              </button>\r\n              </div>\r\n            </tr>\r\n          </tbody>\r\n        ))}\r\n      </Table>\r\n      </div>\r\n    </div>\r\n           </Container>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CheckOutAllOrder;"]},"metadata":{},"sourceType":"module"}