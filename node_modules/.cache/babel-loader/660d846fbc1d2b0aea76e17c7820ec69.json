{"ast":null,"code":"import _objectSpread from\"C:/project/pearls/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/project/pearls/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{useForm}from\"react-hook-form\";import{Container}from'react-bootstrap';import{useParams}from'react-router-dom';import useAuth from'../../Firebase/useAuth';import'./ConfirmOrder.css';import Header from'../../Shared/Header/Header';import Footer from'../../Shared/Footer/Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ConfirmOrdere=function ConfirmOrdere(){var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),details=_useState2[0],setDetails=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),specificDetail=_useState4[0],setSpecificDetail=_useState4[1];var _useAuth=useAuth(),user=_useAuth.user;useEffect(function(){return fetch(\"https://aqueous-falls-64682.herokuapp.com/products\").then(function(res){return res.json();}).then(function(data){return setDetails(data);});},[]);useEffect(function(){if(details.length>0){var matchedData=details.find(function(detail){return detail._id==id;});setSpecificDetail(matchedData);}},[details]);var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var onSubmit=function onSubmit(data){data.email=user.email;data.username=user.displayName;data.imageURL=user.photoURL;data.status=\"pending\";data.image=specificDetail===null||specificDetail===void 0?void 0:specificDetail.img;data.description=specificDetail.description;fetch(\"https://aqueous-falls-64682.herokuapp.com/confirmorder\",{method:\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(data)}).then(function(res){return res.json();}).then(function(result){if(result.insertedId){alert('Order successfully');// reset();\n}});// console.log(data);\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5\",children:\"Proceed To Confirm Order\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-5 mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"servicedetails col-lg-4  rounded-3 shadow p-5\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-start text-light m-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"py-1 px-2 customround\",children:specificDetail===null||specificDetail===void 0?void 0:specificDetail.tag})}),/*#__PURE__*/_jsx(\"img\",{className:\"w-50 mt-5\",src:specificDetail===null||specificDetail===void 0?void 0:specificDetail.img,alt:\"\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"mt-1 text-danger title-font\",children:specificDetail===null||specificDetail===void 0?void 0:specificDetail.product_name}),/*#__PURE__*/_jsx(\"p\",{className:\" fw-lighter des-font\",children:specificDetail===null||specificDetail===void 0?void 0:specificDetail.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"title-font text-secondary\",children:[\"$ \",specificDetail===null||specificDetail===void 0?void 0:specificDetail.price]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-form col-lg-8  mt-5\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[specificDetail.product_name&&/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"btn btn-outline-secondary\",defaultValue:specificDetail===null||specificDetail===void 0?void 0:specificDetail.product_name},register(\"name\",{required:true,maxLength:100}))),specificDetail.price&&/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"btn btn-outline-secondary\",defaultValue:specificDetail===null||specificDetail===void 0?void 0:specificDetail.price,type:\"number\"},register(\"price\"))),specificDetail._id&&/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"btn btn-outline-secondary\",defaultValue:specificDetail===null||specificDetail===void 0?void 0:specificDetail._id},register(\"id\"))),/*#__PURE__*/_jsx(\"textarea\",_objectSpread({className:\"btn btn-outline-secondary border-none\",defaultValue:\"I want to get this amazing Product.\"},register(\"comments\"))),/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-primary\",type:\"submit\",value:\"Confirm\"})]})})]})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default ConfirmOrdere;","map":{"version":3,"sources":["C:/project/pearls/src/Web/Pages/ConfirmOrder/ConfirmOrdere.js"],"names":["React","useEffect","useState","axios","useForm","Container","useParams","useAuth","Header","Footer","ConfirmOrdere","id","details","setDetails","specificDetail","setSpecificDetail","user","fetch","then","res","json","data","length","matchedData","find","detail","_id","register","handleSubmit","reset","onSubmit","email","username","displayName","imageURL","photoURL","status","image","img","description","method","headers","body","JSON","stringify","result","insertedId","alert","tag","product_name","price","required","maxLength"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Container } from 'react-bootstrap';\r\nimport { useParams } from 'react-router-dom';\r\nimport useAuth from '../../Firebase/useAuth';\r\nimport './ConfirmOrder.css'\r\nimport Header from '../../Shared/Header/Header';\r\nimport Footer from '../../Shared/Footer/Footer';\r\n\r\n\r\nconst ConfirmOrdere = () => {\r\n    const {id}=useParams()\r\n    const [details,setDetails]= useState([])\r\n    const [specificDetail,setSpecificDetail] = useState({})\r\n   const {user}=useAuth();\r\n   \r\n useEffect(() =>\r\n      fetch(\"https://aqueous-falls-64682.herokuapp.com/products\")\r\n      .then(res => res.json())\r\n      .then(data=>setDetails(data))\r\n    ,[])\r\n\r\n\r\nuseEffect(() =>{\r\n    if(details.length>0){\r\n        const matchedData= details.find(detail=> detail._id==id)\r\n        setSpecificDetail(matchedData);\r\n    }\r\n\r\n}\r\n\r\n,[details]);\r\n\r\n\r\nconst { register, handleSubmit, reset } = useForm();\r\n\r\nconst onSubmit = (data) => {\r\n    data.email = user.email;\r\n    data.username  = user.displayName;\r\n    data.imageURL =user.photoURL;\r\n    data.status = \"pending\";\r\n    data.image = specificDetail?.img;\r\n    data.description =specificDetail.description;\r\n\r\n\r\n    fetch(\"https://aqueous-falls-64682.herokuapp.com/confirmorder\", {\r\n      method: \"POST\",\r\n      headers: { \"content-type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.insertedId) {\r\n            alert('Order successfully');\r\n            // reset();\r\n        }\r\n    });\r\n    // console.log(data);\r\n  };\r\n\r\n    return (\r\n        <div>\r\n          <Header></Header>\r\n          <Container>\r\n              <h1 className=\"mt-5\">Proceed To Confirm Order</h1>\r\n          <div className=\"row mt-5 mb-5\">\r\n          <div className=\"servicedetails col-lg-4  rounded-3 shadow p-5\">\r\n          <h6 className=\"text-start text-light m-2\"><span className=\"py-1 px-2 customround\">{specificDetail?.tag}</span></h6>\r\n          <img className=\"w-50 mt-5\" src={specificDetail?.img} alt=\"\" />\r\n\r\n           <h5 className=\"mt-1 text-danger title-font\">{specificDetail?.product_name}</h5>\r\n           <p className=\" fw-lighter des-font\">{specificDetail?.description}</p>\r\n           <p className=\"title-font text-secondary\">$ {specificDetail?.price}</p>\r\n          </div>\r\n          <div className=\"order-form col-lg-8  mt-5\">\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n                { specificDetail.product_name && <input className=\"btn btn-outline-secondary\" defaultValue={specificDetail?.product_name}{...register(\"name\", { required: true, maxLength: 100 })}  />\r\n                }\r\n                { specificDetail.price && <input className=\"btn btn-outline-secondary\" defaultValue={specificDetail?.price} type=\"number\" {...register(\"price\")} />\r\n                }\r\n                { specificDetail._id && <input className=\"btn btn-outline-secondary\" defaultValue={specificDetail?._id}{...register(\"id\")}  />\r\n                }\r\n                <textarea className=\"btn btn-outline-secondary border-none\" defaultValue=\"I want to get this amazing Product.\" {...register(\"comments\")}  />\r\n                <input className=\"btn btn-primary\" type=\"submit\" value=\"Confirm\" />\r\n            </form>\r\n          </div>\r\n          </div>\r\n          </Container>\r\n          <Footer></Footer>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default ConfirmOrdere;"]},"metadata":{},"sourceType":"module"}